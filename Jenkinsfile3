node {
	
	stage('Clone')
	    checkout poll: false, scm: [$class: 'GitSCM', branches: [[name: 'apps']], doGenerateSubmoduleConfigurations: false, extensions: [[$class: 'SparseCheckoutPaths', sparseCheckoutPaths: [[path: 'advanceSettings/']]]], submoduleCfg: [], userRemoteConfigs: [[url: 'https://github.com/sudhakar1981/maven-project-web.git']]]
	    jdk = tool name: 'jdk8'
        env.JAVA_HOME = "${jdk}"
        echo "jdk installation path is: ${jdk}"
        sh "${jdk}/bin/java -version"
        sh '$JAVA_HOME/bin/java -version'
	
	stage('Build')
	    {
                
        sh " mvn -f advanceSettings/trunk/ clean install -U -Dwagon.skip=true"
                
        }
	stage('SonarQube analysis') {
	    
	    sh 'mvn -f advanceSettings/trunk/  sonar:sonar  -Dsonar.host.url=http://localhost:9000   -Dsonar.login=e5b3bec122a4696c3185dc14deee91ba63ff742c'
    }
}